{"ast":null,"code":"import { CanvasContext } from '../../types.js';\nimport webglMutation from './webgl.js';\nimport canvasMutation$1 from './2d.js';\n\nfunction canvasMutation(_a) {\n  var event = _a.event,\n      mutation = _a.mutation,\n      target = _a.target,\n      imageMap = _a.imageMap,\n      errorHandler = _a.errorHandler;\n\n  try {\n    var mutations = 'commands' in mutation ? mutation.commands : [mutation];\n\n    if ([CanvasContext.WebGL, CanvasContext.WebGL2].includes(mutation.type)) {\n      return mutations.forEach(function (command) {\n        webglMutation({\n          mutation: command,\n          type: mutation.type,\n          target: target,\n          imageMap: imageMap,\n          errorHandler: errorHandler\n        });\n      });\n    }\n\n    return mutations.forEach(function (command) {\n      canvasMutation$1({\n        event: event,\n        mutation: command,\n        target: target,\n        imageMap: imageMap,\n        errorHandler: errorHandler\n      });\n    });\n  } catch (error) {\n    errorHandler(mutation, error);\n  }\n}\n\nexport default canvasMutation;","map":null,"metadata":{},"sourceType":"module"}