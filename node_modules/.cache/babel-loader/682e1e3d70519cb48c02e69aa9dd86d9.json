{"ast":null,"code":"import _slicedToArray from\"/Users/sampath/Documents/code/me/stint-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{useState,useEffect}from\"react\";import StringCrypto from'string-crypto';import CONSTANTS from\"../../../constants\";import styles from\"./profile.module.css\";var AssessmentProfile=function AssessmentProfile(_ref){var _ref$candidateName=_ref.candidateName,candidateName=_ref$candidateName===void 0?'...':_ref$candidateName;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),assessmentSession=_useState2[0],setAssessmentSession=_useState2[1];var _useState3=useState(candidateName),_useState4=_slicedToArray(_useState3,2),candidate=_useState4[0],setCandidate=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),skills=_useState6[0],setSkills=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),mobileNumber=_useState8[0],setMobileNumber=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),primarySkill=_useState10[0],setPrimarySkill=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),secondarySkill=_useState12[0],setSecondarySkill=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),tertiarySkill=_useState14[0],setTertiarySkill=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),candidateId=_useState16[0],setCandidateId=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),isLoading=_useState18[0],setIsLoading=_useState18[1];var skillIdToEditorLangMap={\"1\":62,\"2\":76,\"5\":63};var skillIdToEditorLangNameMap={\"1\":\"java\",\"2\":\"cpp\",\"5\":\"javascript\"};useEffect(function(){localStorage.clear();sessionStorage.clear();var href=window.location.href;var _ref2=new StringCrypto(),encryptString=_ref2.encryptString,decryptString=_ref2.decryptString;var encrypted=href.substring(href.indexOf('uid=')+4,href.length);console.log('Encrypted String:',encrypted);console.log('Decrypted String:',decryptString(encrypted,'n4whal'));var decrypted=decryptString(encrypted,'n4whal');/* var str = encryptString('1+2022-04-27T10:30:00','n4whal');\r\n       console.log('str: ', str); */var assessmentId=decrypted.split('+')[0];var rawResponse=fetch(CONSTANTS.ENDPOINT.DIRECTUSAUTH,{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({\"email\":\"stint.assess@gmail.com\",\"password\":\"dstintapp1\"})}).then(function(res){var res=res.json();res.then(function(r){console.log('Data: ',r.data);console.log('AccessToken: ',r.data.access_token);var accessToken=r.data.access_token;sessionStorage.setItem('assessment_session_id',assessmentId);sessionStorage.setItem('difficultyLevel',\"Beginner\");getCandidateAssessment(accessToken,assessmentId);});});},[]);var getCandidateAssessment=function getCandidateAssessment(accessToken,assessmentId){var rawResponse=fetch(CONSTANTS.ENDPOINT.GETASSESSMENTSESSION+accessToken+'&filter={ \"id\": { \"_eq\": \"'+assessmentId+'\" }}').then(function(res){var res=res.json();res.then(function(r){var assessmentSession=r.data;var candidateId=assessmentSession[0].candidate_id;var pipelineId=assessmentSession[0].pipeline_id;var competencyId=assessmentSession[0].competency;var duration=assessmentSession[0].duration;sessionStorage.setItem('competencyId',competencyId);sessionStorage.setItem('totalDuration',duration);getCandidate(accessToken,candidateId);getJobSkills(accessToken,pipelineId);});});};var getCandidate=function getCandidate(accessToken,candidateId){var rawResponse=fetch(CONSTANTS.ENDPOINT.GETCANDIDATE+accessToken+'&filter={ \"id\": { \"_eq\": \"'+candidateId+'\" }}').then(function(res){var res=res.json();res.then(function(r){var candidate=r.data;console.log('Candidate: ',candidate[0].full_name);setCandidate(candidate[0].full_name+'!');setCandidateId(candidate[0].id);});});};var getJobSkills=function getJobSkills(accessToken,pipelineId){var rawResponse=fetch(CONSTANTS.ENDPOINT.GETJOBSKILLS+accessToken+'&filter={ \"pipeline_id\": { \"_eq\": \"'+pipelineId+'\" }}').then(function(res){var res=res.json();res.then(function(r){var jobsSkills=r.data;console.log('JobsSkills: ',jobsSkills);jobsSkills.unshift({\"skill_name\":\"Select Skill\",\"skill_id\":0});setSkills(jobsSkills);});});};var createCandidateProfile=function createCandidateProfile(){setIsLoading(true);var rawResponse=fetch(CONSTANTS.ENDPOINT.DIRECTUSAUTH,{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({\"email\":\"stint.assess@gmail.com\",\"password\":\"dstintapp1\"})}).then(function(res){var res=res.json();res.then(function(r){console.log('Data: ',r.data);console.log('AccessToken: ',r.data.access_token);var accessToken=r.data.access_token;createProfile(accessToken);createCandidateSkill(accessToken,1,primarySkill);createCandidateSkill(accessToken,2,secondarySkill);createCandidateSkill(accessToken,3,tertiarySkill);});});};var createProfile=function createProfile(accessToken){var rawResponse=fetch(CONSTANTS.ENDPOINT.POSTCANDIDATEPROFILE+accessToken,{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({\"candidate_id\":candidateId,\"mobile_number\":mobileNumber,\"status\":\"published\"})}).then(function(res){var res=res.json();res.then(function(r){console.log('Data: ',r.data);});});};var getQuestion=function getQuestion(accessToken,skillId,competencyId){console.log('calling getQuestion...');var rawResponse=fetch(CONSTANTS.ENDPOINT.GETQUESTION+accessToken+'&filter={ \"difficulty_level\": { \"_eq\": \"Beginner\" }, \"skill_id\": { \"_eq\": '+skillId+' }, \"competency\": { \"_eq\": '+competencyId+' }}').then(function(res){var res=res.json();res.then(function(r){var question=r.data;var title=question[0].title;var description=question[0].description;var codeSnippet=question[0].code_snippet;var timeLimit=question[0].time_limit;sessionStorage.setItem('defaultCode',codeSnippet);setIsLoading(false);window.location.href='/assessment/start';});});};var getQuestionToken=function getQuestionToken(){var rawResponse=fetch(CONSTANTS.ENDPOINT.DIRECTUSAUTH,{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({\"email\":\"stint.assess@gmail.com\",\"password\":\"dstintapp1\"})}).then(function(res){var res=res.json();res.then(function(r){console.log('Data: ',r.data);console.log('AccessToken1: ',r.data.access_token);var accessToken=r.data.access_token;var difficultyLevel=\"Beginner\";//read from session storage\nvar skillId=sessionStorage.getItem(\"primarySkill\");//read from session storage\nvar competencyId=sessionStorage.getItem(\"competencyId\");//read from session storage\ngetQuestion(accessToken,skillId,competencyId);});});};var createCandidateSkill=function createCandidateSkill(accessToken,skillPriority,value){console.log('--primarySkill--',primarySkill);if(primarySkill==\"\"){setPrimarySkill(skills[0].skill_id);}if(secondarySkill==\"\"){setSecondarySkill(skills[0].skill_id);}if(tertiarySkill==\"\"){setTertiarySkill(skills[0].skill_id);}var skillId;if(skillPriority==1){skillId=primarySkill;sessionStorage.setItem('primarySkill',primarySkill);sessionStorage.setItem('editorLangId',skillIdToEditorLangMap[primarySkill]);sessionStorage.setItem('editorLangName',skillIdToEditorLangNameMap[primarySkill]);}else if(skillPriority==2){skillId=secondarySkill;sessionStorage.setItem('secondarySkill',secondarySkill);}else{skillId=tertiarySkill;sessionStorage.setItem('tertiarySkill',tertiarySkill);}var rawResponse=fetch(CONSTANTS.ENDPOINT.POSTCANDIDATESKILL+accessToken,{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({\"candidate_id\":candidateId,\"candidate_skill\":skillId,\"priority\":skillPriority,\"status\":\"published\"})}).then(function(res){var res=res.json();res.then(function(r){console.log('Data: ',r.data);});});if(primarySkill!=\"\"&&secondarySkill!=\"\"&&tertiarySkill!=\"\"){getQuestionToken();}};return React.createElement(React.Fragment,null,React.createElement(\"div\",{style:{marginTop:'-80px'}},React.createElement(\"div\",null,React.createElement(\"section\",{className:\"section py-0\",style:{background:'linear-gradient(0deg, rgba(238,247,250,1) 0%, rgba(255,255,255,1) 100%)',marginBottom:'20px'}},React.createElement(\"div\",{className:\"container\"},React.createElement(\"div\",{className:\"columns is-align-items-center\"},React.createElement(\"div\",{className:\"column pt-8-tablet mb-12 mb-0-tablet\",style:{marginBottom:'-120px !important'}},React.createElement(\"h2\",{className:\"has-text-grey-darker has-mw-xl title .is-size-2\",style:{fontFamily:'\\'Lexend Deca\\', sans-serif',fontWeight:'200',marginBottom:'20px'}},\"Welcome \",candidate),React.createElement(\"div\",{className:\"m-primary-img\"},React.createElement(\"img\",{className:\"image mx-auto\",src:\"acros-assets/images/call-to-action/cta-12-work.png\",alt:\"\"})),React.createElement(\"p\",{className:\"profile_subtitle__1WSNP has-mw-md has-text-grey-darker mb-10 m-primary-desc\",style:{display:'inline'}},\"Please share your basic details to start the assessment. The interview timer will start once you click the \",React.createElement(\"b\",null,\"Save & start assessment\"),\" button.\"),React.createElement(\"div\",{className:\"profile_profile-form__1qgae\",style:{marginTop:'48px'}},React.createElement(\"span\",{className:\"label\"},\"Mobile Number\"),React.createElement(\"input\",{type:\"text\",class:\"profile_txt__2e5NB\",placeholder:\"Your 10 digit mobile number\",onChange:function onChange(e){setMobileNumber(e.target.value);},style:{width:'320px'}})),React.createElement(\"div\",{className:\"profile_profile-form__1qgae\"},React.createElement(\"span\",{className:\"label\"},\"Primary Skill\"),React.createElement(\"select\",{name:\"primarySkill\",id:\"primarySkill\",onChange:function onChange(e){setPrimarySkill(e.target.value);}},skills.map(function(skill,index){return React.createElement(\"option\",{value:skill.skill_id,key:skill.skill_id},skill.skill_name);}))),React.createElement(\"div\",{className:\"profile_profile-form__1qgae\"},React.createElement(\"span\",{className:\"label\"},\"Secondary Skill\"),React.createElement(\"select\",{name:\"primarySkill\",id:\"secondarySkill\",onChange:function onChange(e){setSecondarySkill(e.target.value);}},skills.map(function(skill,index){return React.createElement(\"option\",{value:skill.skill_id,key:skill.skill_id},skill.skill_name);}))),React.createElement(\"div\",{className:\"profile_profile-form__1qgae\"},React.createElement(\"span\",{className:\"label\"},\"Tertiary Skill\"),React.createElement(\"select\",{name:\"primarySkill\",id:\"tertiarySkill\",onChange:function onChange(e){setTertiarySkill(e.target.value);}},skills.map(function(skill,index){return React.createElement(\"option\",{value:skill.skill_id,key:skill.skill_id},skill.skill_name);}))),React.createElement(\"div\",{className:\"buttons mb-20\",style:{marginTop:'36px'}},!isLoading?React.createElement(\"span\",{className:\"button is-primary mr-4\",onClick:function onClick(){createCandidateProfile();}},\"Save & Start Assessment\"):React.createElement(\"span\",{className:\"button is-primary mr-4\"},React.createElement(\"span\",{style:{visibility:'hidden'}},\"Save & Start Assessment\"),React.createElement(\"span\",{class:\"profile_spinner__1u7yJ\"})))),React.createElement(\"div\",{className:\"column\",style:{padding:'0'}},React.createElement(\"img\",{className:\"image mx-auto l-primary-img\",src:\"acros-assets/images/applications/code.png\",alt:\"\",style:{marginTop:'0px',width:'400px'}})))))),React.createElement(\"div\",{className:\"navbar-side is-hidden is-fixed is-top-0 is-left-0 has-background-blur\",style:{zIndex:'50',width:'100%',height:'100%;'}},React.createElement(\"div\",{className:\"is-absolute\",style:{zIndex:'-1'}}),React.createElement(\"div\",{className:\"container is-relative\"},React.createElement(\"a\",{className:\"navbar-close is-absolute is-right-0 mt-6 mr-6\",href:\"#\"},React.createElement(\"img\",{src:\"acros-assets/icons/mobile-decline.svg\",alt:\"\"}))),React.createElement(\"aside\",{className:\"py-6 px-6 pb-8 has-background-white is-flex is-flex-direction-column is-justify-content-space-between\",style:{height:'100%',width:'288px',overflowY:'auto'}},React.createElement(\"div\",null,React.createElement(\"a\",{className:\"navbar-item title is-size-4 has-text-dark pl-4 mb-5\",href:\"#\"},React.createElement(\"img\",{src:\"acros-assets/logo/logo.png\",width:\"auto\",style:{maxHeight:'initial',width:'100px'},alt:\"\"})),React.createElement(\"ul\",{className:\"menu-list title is-size-6\"},React.createElement(\"li\",null,React.createElement(\"a\",{className:\"py-4 px-6 has-text-grey-darker\",href:\"#\"},\"Home\")),React.createElement(\"li\",null,React.createElement(\"a\",{className:\"py-4 px-6 has-text-grey-darker\",href:\"#cvLive\"},\"CV vs Live coding\")),React.createElement(\"li\",null,React.createElement(\"a\",{className:\"py-4 px-6 has-text-grey-darker\",href:\"#howItWorks\"},\"How it works\")),React.createElement(\"li\",null,React.createElement(\"a\",{className:\"py-4 px-6 has-text-grey-darker\",href:\"#practice\"},\"Take Practice Session\")))),React.createElement(\"div\",null,React.createElement(\"div\",{className:\"buttons mb-8\"},React.createElement(\"a\",{className:\"button is-dark is-outlined is-fullwidth mb-4\",href:\"#\"},\"Log In\"),React.createElement(\"a\",{className:\"button is-primary is-fullwidth\",href:\"#\"},\"Sign up\")),React.createElement(\"small\",{className:\"has-text-grey-darker ml-6\"},\"2021 \\xA9 Shuffle\"))))));};export default AssessmentProfile;","map":{"version":3,"sources":["/Users/sampath/Documents/code/me/stint-web/src/components/assessment/profile/index.jsx"],"names":["React","useState","useEffect","StringCrypto","CONSTANTS","styles","AssessmentProfile","candidateName","assessmentSession","setAssessmentSession","candidate","setCandidate","skills","setSkills","mobileNumber","setMobileNumber","primarySkill","setPrimarySkill","secondarySkill","setSecondarySkill","tertiarySkill","setTertiarySkill","candidateId","setCandidateId","isLoading","setIsLoading","skillIdToEditorLangMap","skillIdToEditorLangNameMap","localStorage","clear","sessionStorage","href","window","location","encryptString","decryptString","encrypted","substring","indexOf","length","console","log","decrypted","assessmentId","split","rawResponse","fetch","ENDPOINT","DIRECTUSAUTH","method","headers","body","JSON","stringify","then","res","json","r","data","access_token","accessToken","setItem","getCandidateAssessment","GETASSESSMENTSESSION","candidate_id","pipelineId","pipeline_id","competencyId","competency","duration","getCandidate","getJobSkills","GETCANDIDATE","full_name","id","GETJOBSKILLS","jobsSkills","unshift","createCandidateProfile","createProfile","createCandidateSkill","POSTCANDIDATEPROFILE","getQuestion","skillId","GETQUESTION","question","title","description","codeSnippet","code_snippet","timeLimit","time_limit","getQuestionToken","difficultyLevel","getItem","skillPriority","value","skill_id","POSTCANDIDATESKILL","marginTop","background","marginBottom","fontFamily","fontWeight","display","e","target","width","map","skill","index","skill_name","visibility","padding","zIndex","height","overflowY","maxHeight"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport {useState, useEffect} from \"react\";\r\nimport StringCrypto from 'string-crypto';\r\nimport CONSTANTS from \"../../../constants\";\r\nimport styles from \"./profile.module.css\";\r\n\r\nconst AssessmentProfile = ({candidateName = '...'}) => {\r\n\r\n  const [assessmentSession, setAssessmentSession] = useState({});\r\n  const [candidate, setCandidate] = useState(candidateName);\r\n  const [skills, setSkills] = useState([]);\r\n  const [mobileNumber, setMobileNumber] = useState(\"\");\r\n  const [primarySkill, setPrimarySkill] = useState(\"\");\r\n  const [secondarySkill, setSecondarySkill] = useState(\"\");\r\n  const [tertiarySkill, setTertiarySkill] = useState(\"\");\r\n  const [candidateId, setCandidateId] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const skillIdToEditorLangMap = {\"1\": 62, \"2\": 76, \"5\": 63}\r\n  const skillIdToEditorLangNameMap = {\"1\": \"java\", \"2\": \"cpp\", \"5\": \"javascript\"}\r\n\r\n  useEffect(() => {\r\n      localStorage.clear(); sessionStorage.clear();\r\n      let href = window.location.href;\r\n      const {encryptString,decryptString} = new StringCrypto();\r\n      let encrypted = href.substring(href.indexOf('uid=')+4,href.length);\r\n      console.log('Encrypted String:', encrypted);\r\n      console.log('Decrypted String:', decryptString(encrypted, 'n4whal'));\r\n\r\n       var decrypted = decryptString(encrypted, 'n4whal');\r\n       /* var str = encryptString('1+2022-04-27T10:30:00','n4whal');\r\n       console.log('str: ', str); */\r\n       var assessmentId = decrypted.split('+')[0];\r\n\r\n      const rawResponse = fetch(CONSTANTS.ENDPOINT.DIRECTUSAUTH, {\r\n         method: 'POST',\r\n         headers: {\r\n           'Accept': 'application/json',\r\n           'Content-Type': 'application/json'\r\n         },\r\n         body: JSON.stringify({\r\n        \"email\": \"stint.assess@gmail.com\",\r\n        \"password\": \"dstintapp1\"\r\n      })}).then((res)=>{\r\n        var res = res.json();\r\n        res.then(function(r) {\r\n          console.log('Data: ', r.data);\r\n          console.log('AccessToken: ', r.data.access_token);\r\n              var accessToken = r.data.access_token;\r\n              sessionStorage.setItem('assessment_session_id', assessmentId);\r\n              sessionStorage.setItem('difficultyLevel', \"Beginner\");\r\n              getCandidateAssessment(accessToken, assessmentId);\r\n\r\n        });\r\n      });\r\n\r\n    }, []);\r\n\r\n\r\n    const getCandidateAssessment = (accessToken, assessmentId) => {\r\n       const rawResponse = fetch(CONSTANTS.ENDPOINT.GETASSESSMENTSESSION + accessToken + '&filter={ \"id\": { \"_eq\": \"'+assessmentId+'\" }}').then((res)=>{\r\n        var res = res.json();\r\n          res.then(function(r) {\r\n            var assessmentSession = r.data;\r\n            var candidateId = assessmentSession[0].candidate_id;\r\n            var pipelineId = assessmentSession[0].pipeline_id;\r\n            var competencyId = assessmentSession[0].competency;\r\n            var duration = assessmentSession[0].duration;\r\n            sessionStorage.setItem('competencyId', competencyId);\r\n            sessionStorage.setItem('totalDuration', duration);\r\n            getCandidate(accessToken, candidateId);\r\n            getJobSkills(accessToken, pipelineId);\r\n          });\r\n        });\r\n    }\r\n\r\n    const getCandidate = (accessToken, candidateId) => {\r\n           const rawResponse = fetch(CONSTANTS.ENDPOINT.GETCANDIDATE + accessToken + '&filter={ \"id\": { \"_eq\": \"'+candidateId+'\" }}').then((res)=>{\r\n            var res = res.json();\r\n              res.then(function(r) {\r\n                var candidate = r.data;\r\n                console.log('Candidate: ', candidate[0].full_name);\r\n                setCandidate(candidate[0].full_name + '!');\r\n                setCandidateId(candidate[0].id);\r\n              });\r\n            });\r\n        }\r\n\r\n    const getJobSkills = (accessToken, pipelineId) => {\r\n               const rawResponse = fetch(CONSTANTS.ENDPOINT.GETJOBSKILLS + accessToken + '&filter={ \"pipeline_id\": { \"_eq\": \"'+pipelineId+'\" }}').then((res)=>{\r\n                var res = res.json();\r\n                  res.then(function(r) {\r\n                    var jobsSkills = r.data;\r\n                    console.log('JobsSkills: ', jobsSkills);\r\n                    jobsSkills.unshift({\"skill_name\":\"Select Skill\",\"skill_id\":0})\r\n                    setSkills(jobsSkills);\r\n                  });\r\n                });\r\n            }\r\n\r\n    const createCandidateProfile = () => {\r\n       setIsLoading(true);\r\n       const rawResponse = fetch(CONSTANTS.ENDPOINT.DIRECTUSAUTH, {\r\n                method: 'POST',\r\n                headers: {\r\n                  'Accept': 'application/json',\r\n                  'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n               \"email\": \"stint.assess@gmail.com\",\r\n               \"password\": \"dstintapp1\"\r\n             })}).then((res)=>{\r\n               var res = res.json();\r\n               res.then(function(r) {\r\n                 console.log('Data: ', r.data);\r\n                 console.log('AccessToken: ', r.data.access_token);\r\n                     var accessToken = r.data.access_token;\r\n                     createProfile(accessToken);\r\n                     createCandidateSkill(accessToken, 1, primarySkill);\r\n                     createCandidateSkill(accessToken, 2, secondarySkill);\r\n                     createCandidateSkill(accessToken, 3, tertiarySkill);\r\n               });\r\n             });\r\n    }\r\n\r\n    const createProfile = (accessToken) => {\r\n       const rawResponse = fetch(CONSTANTS.ENDPOINT.POSTCANDIDATEPROFILE + accessToken, {\r\n           method: 'POST',\r\n           headers: {\r\n             'Accept': 'application/json',\r\n             'Content-Type': 'application/json'\r\n           },\r\n           body: JSON.stringify({\r\n          \"candidate_id\": candidateId,\r\n          \"mobile_number\": mobileNumber,\r\n          \"status\": \"published\"\r\n        })}).then((res)=>{\r\n          var res = res.json();\r\n          res.then(function(r) {\r\n            console.log('Data: ', r.data);\r\n          });\r\n       });\r\n    }\r\n\r\n    const getQuestion = (accessToken, skillId, competencyId) => {\r\n           console.log('calling getQuestion...');\r\n           const rawResponse = fetch(CONSTANTS.ENDPOINT.GETQUESTION + accessToken + '&filter={ \"difficulty_level\": { \"_eq\": \"Beginner\" }, \"skill_id\": { \"_eq\": '+skillId+' }, \"competency\": { \"_eq\": '+competencyId+' }}').then((res)=>{\r\n            var res = res.json();\r\n              res.then(function(r) {\r\n                var question = r.data;\r\n                var title = question[0].title;\r\n                var description = question[0].description;\r\n                var codeSnippet = question[0].code_snippet;\r\n                var timeLimit = question[0].time_limit;\r\n                sessionStorage.setItem('defaultCode', codeSnippet);\r\n                setIsLoading(false);\r\n                window.location.href = '/assessment/start';\r\n              });\r\n            });\r\n        }\r\n\r\n    const getQuestionToken = () => {\r\n      const rawResponse = fetch(CONSTANTS.ENDPOINT.DIRECTUSAUTH, {\r\n               method: 'POST',\r\n               headers: {\r\n                 'Accept': 'application/json',\r\n                 'Content-Type': 'application/json'\r\n               },\r\n               body: JSON.stringify({\r\n              \"email\": \"stint.assess@gmail.com\",\r\n              \"password\": \"dstintapp1\"\r\n            })}).then((res)=>{\r\n              var res = res.json();\r\n              res.then(function(r) {\r\n                console.log('Data: ', r.data);\r\n                console.log('AccessToken1: ', r.data.access_token);\r\n                    var accessToken = r.data.access_token;\r\n                    var difficultyLevel = \"Beginner\"; //read from session storage\r\n                    var skillId = sessionStorage.getItem(\"primarySkill\"); //read from session storage\r\n                    var competencyId = sessionStorage.getItem(\"competencyId\"); //read from session storage\r\n                    getQuestion(accessToken, skillId, competencyId);\r\n\r\n              });\r\n            });\r\n    }\r\n\r\n    const createCandidateSkill = (accessToken, skillPriority, value) => {\r\n    console.log('--primarySkill--', primarySkill);\r\n       if (primarySkill == \"\") { setPrimarySkill(skills[0].skill_id); }\r\n       if (secondarySkill == \"\") { setSecondarySkill(skills[0].skill_id); }\r\n       if (tertiarySkill == \"\") { setTertiarySkill(skills[0].skill_id); }\r\n       var skillId;\r\n       if (skillPriority == 1) { skillId = primarySkill; sessionStorage.setItem('primarySkill', primarySkill); sessionStorage.setItem('editorLangId',skillIdToEditorLangMap[primarySkill]);sessionStorage.setItem('editorLangName',skillIdToEditorLangNameMap[primarySkill]); }\r\n       else if (skillPriority == 2) { skillId = secondarySkill; sessionStorage.setItem('secondarySkill', secondarySkill);  }\r\n       else { skillId = tertiarySkill; sessionStorage.setItem('tertiarySkill', tertiarySkill); }\r\n       const rawResponse = fetch(CONSTANTS.ENDPOINT.POSTCANDIDATESKILL + accessToken, {\r\n           method: 'POST',\r\n           headers: {\r\n             'Accept': 'application/json',\r\n             'Content-Type': 'application/json'\r\n           },\r\n           body: JSON.stringify({\r\n          \"candidate_id\": candidateId,\r\n          \"candidate_skill\": skillId,\r\n          \"priority\": skillPriority,\r\n          \"status\": \"published\",\r\n        })}).then((res)=>{\r\n          var res = res.json();\r\n          res.then(function(r) {\r\n            console.log('Data: ', r.data);\r\n          });\r\n       });\r\n\r\n       if(primarySkill != \"\" && secondarySkill != \"\" && tertiarySkill != \"\") {\r\n         getQuestionToken();\r\n       }\r\n    }\r\n\r\n\r\n  return (\r\n  <React.Fragment>\r\n               <div style={{marginTop: '-80px'}}>\r\n\r\n                 <div>\r\n                   <section className=\"section py-0\" style={{background: 'linear-gradient(0deg, rgba(238,247,250,1) 0%, rgba(255,255,255,1) 100%)',marginBottom: '20px'}}>\r\n                     <div className=\"container\">\r\n\r\n                       <div className=\"columns is-align-items-center\">\r\n                         <div className=\"column pt-8-tablet mb-12 mb-0-tablet\" style={{marginBottom: '-120px !important'}}>\r\n\r\n                           <h2 className=\"has-text-grey-darker has-mw-xl title .is-size-2\" style={{fontFamily:'\\'Lexend Deca\\', sans-serif', fontWeight: '200', marginBottom: '20px'}}>Welcome {candidate}</h2>\r\n                           <div className=\"m-primary-img\"><img className=\"image mx-auto\" src=\"acros-assets/images/call-to-action/cta-12-work.png\" alt=\"\"/></div>\r\n                           <p className=\"profile_subtitle__1WSNP has-mw-md has-text-grey-darker mb-10 m-primary-desc\" style={{display: 'inline'}}>Please share your basic details to start the assessment. The interview timer will start once you click the <b>Save & start assessment</b> button.</p>\r\n\r\n                           <div className=\"profile_profile-form__1qgae\" style={{marginTop: '48px'}}>\r\n                            <span className=\"label\">Mobile Number</span>\r\n                            <input type=\"text\" class=\"profile_txt__2e5NB\" placeholder=\"Your 10 digit mobile number\" onChange={(e)=>{setMobileNumber(e.target.value)}} style={{width: '320px'}} />\r\n                           </div>\r\n                           <div className=\"profile_profile-form__1qgae\">\r\n                             <span className=\"label\">Primary Skill</span>\r\n                             <select name=\"primarySkill\" id=\"primarySkill\" onChange={(e)=>{setPrimarySkill(e.target.value)}}>\r\n                                {skills.map((skill, index) => (\r\n                                  <option value={skill.skill_id} key={skill.skill_id}>{skill.skill_name}</option>\r\n                                ))}\r\n                             </select>\r\n                            </div>\r\n                            <div className=\"profile_profile-form__1qgae\">\r\n                            <span className=\"label\">Secondary Skill</span>\r\n                            <select name=\"primarySkill\" id=\"secondarySkill\" onChange={(e)=>{setSecondarySkill(e.target.value)}}>\r\n                               {skills.map((skill, index) => (\r\n                                 <option value={skill.skill_id} key={skill.skill_id}>{skill.skill_name}</option>\r\n                               ))}\r\n                             </select>\r\n                           </div>\r\n                           <div className=\"profile_profile-form__1qgae\">\r\n                             <span className=\"label\">Tertiary Skill</span>\r\n                             <select name=\"primarySkill\" id=\"tertiarySkill\" onChange={(e)=>{setTertiarySkill(e.target.value)}}>\r\n                                {skills.map((skill, index) => (\r\n                                   <option value={skill.skill_id} key={skill.skill_id}>{skill.skill_name}</option>\r\n                                 ))}\r\n                              </select>\r\n                            </div>\r\n                           <div className=\"buttons mb-20\" style={{marginTop: '36px'}}>\r\n                            {!isLoading ? <span className=\"button is-primary mr-4\" onClick={()=>{createCandidateProfile()}}>Save & Start Assessment</span> : <span className=\"button is-primary mr-4\"><span style={{visibility: 'hidden'}}>Save & Start Assessment</span><span class=\"profile_spinner__1u7yJ\"></span></span>}\r\n                           </div>\r\n\r\n                         </div>\r\n                         <div className=\"column\" style={{padding: '0'}}>\r\n                           <img className=\"image mx-auto l-primary-img\" src=\"acros-assets/images/applications/code.png\" alt=\"\" style={{marginTop: '0px', width: '400px'}}/>\r\n                         </div>\r\n                       </div>\r\n                     </div>\r\n                   </section>\r\n                 </div>\r\n                 <div className=\"navbar-side is-hidden is-fixed is-top-0 is-left-0 has-background-blur\" style={{zIndex: '50', width:'100%', height: '100%;'}}>\r\n                   <div className=\"is-absolute\" style={{zIndex: '-1'}}></div>\r\n                   <div className=\"container is-relative\">\r\n                     <a className=\"navbar-close is-absolute is-right-0 mt-6 mr-6\" href=\"#\">\r\n                       <img src=\"acros-assets/icons/mobile-decline.svg\" alt=\"\"/>\r\n                     </a>\r\n                   </div>\r\n                   <aside className=\"py-6 px-6 pb-8 has-background-white is-flex is-flex-direction-column is-justify-content-space-between\" style={{height: '100%', width: '288px', overflowY: 'auto'}}>\r\n                     <div>\r\n                       <a className=\"navbar-item title is-size-4 has-text-dark pl-4 mb-5\" href=\"#\">\r\n                         <img src=\"acros-assets/logo/logo.png\" width=\"auto\" style={{maxHeight:'initial',width:'100px'}} alt=\"\"/>\r\n                       </a>\r\n                       <ul className=\"menu-list title is-size-6\">\r\n                         <li><a className=\"py-4 px-6 has-text-grey-darker\" href=\"#\">Home</a></li>\r\n                         <li><a className=\"py-4 px-6 has-text-grey-darker\" href=\"#cvLive\">CV vs Live coding</a></li>\r\n                         <li><a className=\"py-4 px-6 has-text-grey-darker\" href=\"#howItWorks\">How it works</a></li>\r\n                         <li><a className=\"py-4 px-6 has-text-grey-darker\" href=\"#practice\">Take Practice Session</a></li>\r\n                       </ul>\r\n                     </div>\r\n                     <div>\r\n                       <div className=\"buttons mb-8\"><a className=\"button is-dark is-outlined is-fullwidth mb-4\" href=\"#\">Log In</a><a className=\"button is-primary is-fullwidth\" href=\"#\">Sign up</a></div>\r\n                       <small className=\"has-text-grey-darker ml-6\">2021 © Shuffle</small>\r\n                     </div>\r\n                   </aside>\r\n                 </div>\r\n               </div>\r\n\r\n\r\n             </React.Fragment>);\r\n}\r\nexport default AssessmentProfile;\r\n"]},"metadata":{},"sourceType":"module"}