{"ast":null,"code":"import _defineProperty from \"/Users/sampath/Documents/code/me/stint-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"/Users/sampath/Documents/code/me/stint-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/sampath/Documents/code/me/stint-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/sampath/Documents/code/me/stint-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectDestructuringEmpty from \"/Users/sampath/Documents/code/me/stint-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty\";\nvar _jsxFileName = \"/Users/sampath/Documents/code/me/stint-web/src/components/assessment/engine/index.jsx\";\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport Editor, { useMonaco } from \"@monaco-editor/react\";\nimport CONSTANTS from \"../../../constants\";\nimport \"./engine.module.css\";\n\nvar AssessmentEngine = function AssessmentEngine(_ref) {\n  var _React$createElement;\n\n  _objectDestructuringEmpty(_ref);\n\n  var LANG_ID_JAVA = sessionStorage.getItem('editorLangId');\n  var monaco = useMonaco();\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      input = _useState2[0],\n      setInput = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      lang = _useState4[0],\n      setLang = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      questionTitle = _useState6[0],\n      setQuestionTitle = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      questionDescription = _useState8[0],\n      setQuestionDescription = _useState8[1];\n\n  var _useState9 = useState(0),\n      _useState10 = _slicedToArray(_useState9, 2),\n      langId = _useState10[0],\n      setLangId = _useState10[1];\n\n  var _useState11 = useState({}),\n      _useState12 = _slicedToArray(_useState11, 2),\n      userInput = _useState12[0],\n      setUserInput = _useState12[1];\n\n  var _useState13 = useState(\"Running...\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      output = _useState14[0],\n      setOutput = _useState14[1];\n\n  var _useState15 = useState(''),\n      _useState16 = _slicedToArray(_useState15, 2),\n      defaultCode = _useState16[0],\n      setDefaultCode = _useState16[1];\n\n  var _useState17 = useState(false),\n      _useState18 = _slicedToArray(_useState17, 2),\n      showOutput = _useState18[0],\n      setShowOutput = _useState18[1];\n\n  var _useState19 = useState(\"Beginner\"),\n      _useState20 = _slicedToArray(_useState19, 2),\n      difficultyLevel = _useState20[0],\n      setDifficultyLevel = _useState20[1];\n\n  var handleEditorChange = function handleEditorChange(value, event) {\n    setInput(value);\n    localStorage.setItem('input', value);\n    setShowOutput(false);\n  };\n\n  var invokeAPI =\n  /*#__PURE__*/\n  function () {\n    var _ref2 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var response, jsonResponse, message, jsonGetSolution, url, getSolution, _output, error, compilation_error;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setOutput('Creating Submission ...');\n              _context.next = 3;\n              return fetch(\"https://judge0-ce.p.rapidapi.com/submissions\", {\n                method: \"POST\",\n                headers: {\n                  \"x-rapidapi-host\": \"judge0-ce.p.rapidapi.com\",\n                  \"x-rapidapi-key\": \"a1504d0aebmsha2c15d90ecffa8dp117081jsn36e10aaf0ea7\",\n                  // Get yours for free at https://rapidapi.com/judge0-official/api/judge0-ce/\n                  \"content-type\": \"application/json\",\n                  accept: \"application/json\"\n                },\n                body: JSON.stringify({\n                  source_code: input,\n                  stdin: null,\n                  language_id: langId\n                })\n              });\n\n            case 3:\n              response = _context.sent;\n              setOutput(\"Submission Created ...\\n\");\n              _context.next = 7;\n              return response.json();\n\n            case 7:\n              jsonResponse = _context.sent;\n\n              if (response.ok) {\n                _context.next = 11;\n                break;\n              }\n\n              message = \"An error has occured: \".concat(response.status);\n              throw new Error(message);\n\n            case 11:\n              jsonGetSolution = {\n                status: {\n                  description: \"Queue\"\n                },\n                stderr: null,\n                compile_output: null\n              };\n\n            case 12:\n              if (!(jsonGetSolution.status.description !== \"Accepted\" && jsonGetSolution.stderr == null && jsonGetSolution.compile_output == null)) {\n                _context.next = 24;\n                break;\n              }\n\n              setOutput(\"Creating Submission ... \\nSubmission Created ...\\nChecking Submission Status\\nstatus : \".concat(jsonGetSolution.status.description));\n\n              if (!jsonResponse.token) {\n                _context.next = 22;\n                break;\n              }\n\n              url = \"https://judge0-ce.p.rapidapi.com/submissions/\".concat(jsonResponse.token, \"?base64_encoded=true\");\n              _context.next = 18;\n              return fetch(url, {\n                method: \"GET\",\n                headers: {\n                  \"x-rapidapi-host\": \"judge0-ce.p.rapidapi.com\",\n                  \"x-rapidapi-key\": \"a1504d0aebmsha2c15d90ecffa8dp117081jsn36e10aaf0ea7\",\n                  // Get yours for free at https://rapidapi.com/judge0-official/api/judge0-ce/\n                  \"content-type\": \"application/json\"\n                }\n              });\n\n            case 18:\n              getSolution = _context.sent;\n              _context.next = 21;\n              return getSolution.json();\n\n            case 21:\n              jsonGetSolution = _context.sent;\n\n            case 22:\n              _context.next = 12;\n              break;\n\n            case 24:\n              if (jsonGetSolution.stdout) {\n                _output = atob(jsonGetSolution.stdout);\n                setOutput('');\n                setOutput(\"Results :\\n\".concat(_output, \"\\nExecution Time : \").concat(jsonGetSolution.time, \" Secs\\nMemory used : \").concat(jsonGetSolution.memory, \" bytes\"));\n              } else if (jsonGetSolution.stderr) {\n                error = atob(jsonGetSolution.stderr);\n                setOutput(\"\\n Error :\".concat(error));\n              } else {\n                compilation_error = atob(jsonGetSolution.compile_output);\n                setOutput(\"\\n Error :\".concat(compilation_error));\n              }\n\n            case 25:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function invokeAPI() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var run = function run(e) {\n    setShowOutput(true);\n    /* window.addEventListener('unhandledrejection', event => { console.log('E: ',event); });\r\n    onunhandledrejection = event => {\r\n      alert('There was an error submitting your code. Pls check your syntax & try again.')\r\n      console.log('invoke API '); //window.location.reload();\r\n    }; */\n\n    invokeAPI();\n  };\n\n  var getQuestion = function getQuestion(accessToken, skillId, competencyId) {\n    console.log('calling getQuestion...');\n    var rawResponse = fetch(CONSTANTS.ENDPOINT.GETQUESTION + accessToken + '&filter={ \"difficulty_level\": { \"_eq\": \"' + difficultyLevel + '\" }, \"skill_id\": { \"_eq\": ' + skillId + ' }, \"competency\": { \"_eq\": ' + competencyId + ' }}').then(function (res) {\n      var res = res.json();\n      res.then(function (r) {\n        var question = r.data;\n        var title = question[0].title;\n        var description = question[0].description;\n        var codeSnippet = question[0].code_snippet;\n        var timeLimit = question[0].time_limit;\n        setDefaultCode(codeSnippet);\n        console.log('codeSnippet: ', codeSnippet);\n        console.log('setting');\n        setInput(codeSnippet);\n        setQuestionTitle(title);\n        setQuestionDescription(description);\n      });\n    });\n  };\n\n  var getQuestionToken = function getQuestionToken() {\n    var rawResponse = fetch(CONSTANTS.ENDPOINT.DIRECTUSAUTH, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        \"email\": \"stint.assess@gmail.com\",\n        \"password\": \"dstintapp1\"\n      })\n    }).then(function (res) {\n      var res = res.json();\n      res.then(function (r) {\n        console.log('Data: ', r.data);\n        console.log('AccessToken1: ', r.data.access_token);\n        var accessToken = r.data.access_token;\n        var difficultyLevel = \"Beginner\"; //read from session storage\n\n        var skillId = sessionStorage.getItem(\"primarySkill\"); //read from session storage\n\n        var competencyId = sessionStorage.getItem(\"competencyId\"); //read from session storage\n\n        getQuestion(accessToken, skillId, competencyId);\n      });\n    });\n  };\n\n  useEffect(function () {\n    //window.showVideo = true;\n    setLang(sessionStorage.getItem('editorLangName'));\n    setLangId(LANG_ID_JAVA);\n    localStorage.setItem('language_Id', LANG_ID_JAVA);\n\n    if (localStorage.getItem('input') != null) {\n      console.log('localStorage.getItem(input): ', localStorage.getItem('input'));\n      setDefaultCode(localStorage.getItem('input'));\n      setInput(localStorage.getItem('input'));\n    }\n\n    getQuestionToken(); //setOutput(\"Click the 'Save & Run' button to view your program's output.\");\n\n    if (monaco) {\n      console.log(\"here is the monaco instance:\", monaco);\n    }\n  }, [monaco]);\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  }, React.createElement(\"section\", {\n    class: \"section\",\n    style: {\n      paddingTop: '24px',\n      marginTop: '-6rem'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    class: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185\n    },\n    __self: this\n  }, \"Live coding question:\"), \"\\xA0\\xA0\", questionTitle, \"\\xA0\\xA0\", questionDescription, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    style: {\n      color: '#05976e'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185\n    },\n    __self: this\n  }, \"*Use \", lang, \" to write your code.\"), React.createElement(\"span\", {\n    style: {\n      color: '#666',\n      fontSize: '0.8rem'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186\n    },\n    __self: this\n  }, \"(Please allow \", React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186\n    },\n    __self: this\n  }, \"camera access\"), \". Your video is kept private.)\")), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    id: \"container\",\n    class: \"engine_editor-container__2uqGs\",\n    style: {\n      width: '100%',\n      height: '350px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189\n    },\n    __self: this\n  }, React.createElement(Editor, {\n    defaultLanguage: lang,\n    defaultValue: defaultCode,\n    onChange: handleEditorChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  })), showOutput && React.createElement(\"div\", {\n    id: \"outputContainer\",\n    class: \"engine_editor-container__2uqGs\",\n    style: {\n      width: '100%',\n      height: '129px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196\n    },\n    __self: this\n  }, React.createElement(\"textarea\", (_React$createElement = {\n    disabled: true,\n    value: \"output\",\n    width: \"300px\",\n    height: \"400px\",\n    className: \"engine_engine_output__dBs6o__2T5H9\"\n  }, _defineProperty(_React$createElement, \"value\", output), _defineProperty(_React$createElement, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 197\n  }), _defineProperty(_React$createElement, \"__self\", this), _React$createElement))), React.createElement(\"div\", {\n    class: \"buttons mb-20\",\n    style: {\n      fontSize: '2rem',\n      display: 'block',\n      margin: '0 auto',\n      left: '0',\n      right: '0',\n      textAlign: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"buttons mb-20\",\n    style: {\n      marginTop: '36px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"button is-primary mr-4\",\n    onClick: function onClick() {\n      run();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203\n    },\n    __self: this\n  }, \"Save & Run\"))))))), React.createElement(\"div\", {\n    class: \"navbar-side is-hidden is-fixed is-top-0 is-left-0 has-background-blur\",\n    style: {\n      zIndex: '50',\n      width: '100%',\n      height: '100%'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    class: \"is-absolute\",\n    style: {\n      zIndex: '-1;'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    class: \"container is-relative\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    class: \"navbar-close is-absolute is-right-0 mt-6 mr-6\",\n    href: \"#\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: \"acros-assets/icons/mobile-decline.svg\",\n    alt: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216\n    },\n    __self: this\n  }))), React.createElement(\"aside\", {\n    class: \"py-6 px-6 pb-8 has-background-white is-flex is-flex-direction-column is-justify-content-space-between\",\n    style: {\n      height: '100%',\n      width: '288px',\n      overflowY: 'auto'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    class: \"navbar-item title is-size-4 has-text-dark pl-4 mb-5\",\n    href: \"#\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: \"acros-assets/logo/logo.png\",\n    width: \"auto\",\n    style: {\n      maxHeight: 'initial',\n      width: '70px'\n    },\n    alt: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    class: \"buttons mb-8\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    class: \"button is-dark is-outlined is-fullwidth mb-4\",\n    href: \"#\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226\n    },\n    __self: this\n  }, \"Log In\"), React.createElement(\"a\", {\n    class: \"button is-primary is-fullwidth\",\n    href: \"#\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226\n    },\n    __self: this\n  }, \"Sign up\")), React.createElement(\"small\", {\n    class: \"has-text-grey-darker ml-6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227\n    },\n    __self: this\n  }, \"2021 \\xA9 Shuffle\"))))), React.createElement(\"section\", {\n    class: \"section py-16\",\n    id: \"cvLive\",\n    style: {\n      paddingTop: '0px !important'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    class: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    class: \"columns is-align-items-center mb-0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    class: \"column mb-16 mb-0-tablet\",\n    style: {\n      marginTop: '76px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    class: \"title mb-6 has-mw-lg\",\n    style: {\n      fontSize: '2.2rem'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    class: \"subtitle has-mw-md mb-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238\n    },\n    __self: this\n  }, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    class: \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241\n    },\n    __self: this\n  })))));\n};\n\nexport default AssessmentEngine;","map":{"version":3,"sources":["/Users/sampath/Documents/code/me/stint-web/src/components/assessment/engine/index.jsx"],"names":["React","useState","useEffect","Editor","useMonaco","CONSTANTS","AssessmentEngine","LANG_ID_JAVA","sessionStorage","getItem","monaco","input","setInput","lang","setLang","questionTitle","setQuestionTitle","questionDescription","setQuestionDescription","langId","setLangId","userInput","setUserInput","output","setOutput","defaultCode","setDefaultCode","showOutput","setShowOutput","difficultyLevel","setDifficultyLevel","handleEditorChange","value","event","localStorage","setItem","invokeAPI","fetch","method","headers","accept","body","JSON","stringify","source_code","stdin","language_id","response","json","jsonResponse","ok","message","status","Error","jsonGetSolution","description","stderr","compile_output","token","url","getSolution","stdout","atob","time","memory","error","compilation_error","run","e","getQuestion","accessToken","skillId","competencyId","console","log","rawResponse","ENDPOINT","GETQUESTION","then","res","r","question","data","title","codeSnippet","code_snippet","timeLimit","time_limit","getQuestionToken","DIRECTUSAUTH","access_token","paddingTop","marginTop","color","fontSize","width","height","display","margin","left","right","textAlign","zIndex","overflowY","maxHeight"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport {useState, useEffect} from \"react\";\r\nimport Editor, { useMonaco } from \"@monaco-editor/react\";\r\nimport CONSTANTS from \"../../../constants\";\r\nimport \"./engine.module.css\";\r\n\r\nconst AssessmentEngine = ({}) => {\r\n\r\nconst LANG_ID_JAVA = sessionStorage.getItem('editorLangId');\r\n\r\nconst monaco = useMonaco();\r\nconst [input, setInput] = useState({});\r\nconst [lang, setLang] = useState(\"\");\r\nconst [questionTitle, setQuestionTitle] = useState(\"\");\r\nconst [questionDescription, setQuestionDescription] = useState(\"\");\r\nconst [langId, setLangId] = useState(0);\r\nconst [userInput, setUserInput] = useState({});\r\nconst [output, setOutput] = useState(\"Running...\");\r\nconst [defaultCode, setDefaultCode] = useState('');\r\nconst [showOutput, setShowOutput] = useState(false);\r\nconst [difficultyLevel, setDifficultyLevel] = useState(\"Beginner\");\r\n\r\nconst handleEditorChange = (value, event) => {\r\n    setInput(value);\r\n    localStorage.setItem('input', value);\r\n    setShowOutput(false);\r\n};\r\n\r\nconst invokeAPI = async () => {\r\n    setOutput('Creating Submission ...');\r\n    const response = await fetch(\r\n      \"https://judge0-ce.p.rapidapi.com/submissions\",\r\n      {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"x-rapidapi-host\": \"judge0-ce.p.rapidapi.com\",\r\n          \"x-rapidapi-key\": \"a1504d0aebmsha2c15d90ecffa8dp117081jsn36e10aaf0ea7\", // Get yours for free at https://rapidapi.com/judge0-official/api/judge0-ce/\r\n          \"content-type\": \"application/json\",\r\n          accept: \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          source_code: input,\r\n          stdin: null,\r\n          language_id: langId,\r\n        }),\r\n      }\r\n    );\r\n    setOutput(\"Submission Created ...\\n\");\r\n    const jsonResponse = await response.json();\r\n    if (!response.ok) {\r\n                const message = `An error has occured: ${response.status}`;\r\n                throw new Error(message);\r\n              }\r\n\r\n    let jsonGetSolution = {\r\n      status: { description: \"Queue\" },\r\n      stderr: null,\r\n      compile_output: null,\r\n    };\r\n\r\n    while (\r\n      jsonGetSolution.status.description !== \"Accepted\" &&\r\n      jsonGetSolution.stderr == null &&\r\n      jsonGetSolution.compile_output == null\r\n    ) {\r\n      setOutput(`Creating Submission ... \\nSubmission Created ...\\nChecking Submission Status\\nstatus : ${jsonGetSolution.status.description}`);\r\n      if (jsonResponse.token) {\r\n        let url = `https://judge0-ce.p.rapidapi.com/submissions/${jsonResponse.token}?base64_encoded=true`;\r\n\r\n        const getSolution = await fetch(url, {\r\n          method: \"GET\",\r\n          headers: {\r\n            \"x-rapidapi-host\": \"judge0-ce.p.rapidapi.com\",\r\n            \"x-rapidapi-key\": \"a1504d0aebmsha2c15d90ecffa8dp117081jsn36e10aaf0ea7\", // Get yours for free at https://rapidapi.com/judge0-official/api/judge0-ce/\r\n            \"content-type\": \"application/json\",\r\n          },\r\n        });\r\n\r\n        jsonGetSolution = await getSolution.json();\r\n      }\r\n    }\r\n    if (jsonGetSolution.stdout) {\r\n      const output = atob(jsonGetSolution.stdout);\r\n\r\n      setOutput('');\r\n      setOutput(`Results :\\n${output}\\nExecution Time : ${jsonGetSolution.time} Secs\\nMemory used : ${jsonGetSolution.memory} bytes`);\r\n    } else if (jsonGetSolution.stderr) {\r\n      const error = atob(jsonGetSolution.stderr);\r\n\r\n      setOutput(`\\n Error :${error}`);\r\n    } else {\r\n      const compilation_error = atob(jsonGetSolution.compile_output);\r\n\r\n      setOutput(`\\n Error :${compilation_error}`);\r\n    }\r\n}\r\n\r\nconst run = (e) => {\r\n  setShowOutput(true);\r\n  /* window.addEventListener('unhandledrejection', event => { console.log('E: ',event); });\r\n  onunhandledrejection = event => {\r\n    alert('There was an error submitting your code. Pls check your syntax & try again.')\r\n    console.log('invoke API '); //window.location.reload();\r\n  }; */\r\n\r\n  invokeAPI();\r\n}\r\n\r\nconst getQuestion = (accessToken, skillId, competencyId) => {\r\n       console.log('calling getQuestion...');\r\n       const rawResponse = fetch(CONSTANTS.ENDPOINT.GETQUESTION + accessToken + '&filter={ \"difficulty_level\": { \"_eq\": \"'+difficultyLevel+'\" }, \"skill_id\": { \"_eq\": '+skillId+' }, \"competency\": { \"_eq\": '+competencyId+' }}').then((res)=>{\r\n        var res = res.json();\r\n          res.then(function(r) {\r\n            var question = r.data;\r\n            var title = question[0].title;\r\n            var description = question[0].description;\r\n            var codeSnippet = question[0].code_snippet;\r\n            var timeLimit = question[0].time_limit;\r\n            setDefaultCode(codeSnippet);\r\n            console.log('codeSnippet: ', codeSnippet);\r\n            console.log('setting');\r\n            setInput(codeSnippet);\r\n            setQuestionTitle(title);\r\n            setQuestionDescription(description);\r\n          });\r\n        });\r\n    }\r\n\r\nconst getQuestionToken = () => {\r\n  const rawResponse = fetch(CONSTANTS.ENDPOINT.DIRECTUSAUTH, {\r\n           method: 'POST',\r\n           headers: {\r\n             'Accept': 'application/json',\r\n             'Content-Type': 'application/json'\r\n           },\r\n           body: JSON.stringify({\r\n          \"email\": \"stint.assess@gmail.com\",\r\n          \"password\": \"dstintapp1\"\r\n        })}).then((res)=>{\r\n          var res = res.json();\r\n          res.then(function(r) {\r\n            console.log('Data: ', r.data);\r\n            console.log('AccessToken1: ', r.data.access_token);\r\n                var accessToken = r.data.access_token;\r\n                var difficultyLevel = \"Beginner\"; //read from session storage\r\n                var skillId = sessionStorage.getItem(\"primarySkill\"); //read from session storage\r\n                var competencyId = sessionStorage.getItem(\"competencyId\"); //read from session storage\r\n                getQuestion(accessToken, skillId, competencyId);\r\n\r\n          });\r\n        });\r\n}\r\n\r\nuseEffect(() => {\r\n//window.showVideo = true;\r\n\r\nsetLang(sessionStorage.getItem('editorLangName'));\r\nsetLangId(LANG_ID_JAVA);\r\nlocalStorage.setItem('language_Id',LANG_ID_JAVA)\r\nif (localStorage.getItem('input') != null) {\r\nconsole.log('localStorage.getItem(input): ', localStorage.getItem('input'));\r\n  setDefaultCode(localStorage.getItem('input'));\r\n  setInput(localStorage.getItem('input'));\r\n}\r\n\r\n\r\ngetQuestionToken();\r\n\r\n\r\n//setOutput(\"Click the 'Save & Run' button to view your program's output.\");\r\n    if (monaco) {\r\n      console.log(\"here is the monaco instance:\", monaco);\r\n    }\r\n  }, [monaco]);\r\n\r\nreturn (\r\n  <React.Fragment>\r\n\r\n    <div>\r\n      <div>\r\n        <section class=\"section\" style={{paddingTop: '24px', marginTop: '-6rem'}}>\r\n          <div class=\"container\">\r\n\r\n            <div>\r\n              <div><b>Live coding question:</b>&nbsp;&nbsp;{questionTitle}&nbsp;&nbsp;{questionDescription}<br/><span></span><br/><span style={{color: '#05976e'}}>*Use {lang} to write your code.</span>\r\n                <span style={{color:'#666',fontSize:'0.8rem'}}>(Please allow <b>camera access</b>. Your video is kept private.)</span>\r\n              </div>\r\n              <br/>\r\n              <div id=\"container\" class=\"engine_editor-container__2uqGs\" style={{width: '100%',height: '350px'}}>\r\n                <Editor\r\n                      defaultLanguage={lang}\r\n                      defaultValue={defaultCode}\r\n                      onChange={handleEditorChange}\r\n                    />\r\n              </div>\r\n              {showOutput && <div id=\"outputContainer\" class=\"engine_editor-container__2uqGs\" style={{width: '100%',height: '129px'}}>\r\n                <textarea disabled value=\"output\" width=\"300px\" height=\"400px\" className=\"engine_engine_output__dBs6o__2T5H9\" value={output}/>\r\n              </div>}\r\n\r\n\r\n\r\n              <div class=\"buttons mb-20\" style={{fontSize: '2rem',display: 'block',margin: '0 auto',left: '0',right: '0',textAlign: 'center'}}>\r\n                <div className=\"buttons mb-20\" style={{marginTop: '36px'}}><span className=\"button is-primary mr-4\" onClick={()=>{run()}}>Save & Run</span></div>\r\n              </div>\r\n\r\n            </div>\r\n\r\n\r\n          </div>\r\n        </section>\r\n      </div>\r\n      <div class=\"navbar-side is-hidden is-fixed is-top-0 is-left-0 has-background-blur\" style={{zIndex: '50', width:'100%', height: '100%'}}>\r\n        <div class=\"is-absolute\" style={{zIndex: '-1;'}}></div>\r\n        <div class=\"container is-relative\">\r\n          <a class=\"navbar-close is-absolute is-right-0 mt-6 mr-6\" href=\"#\">\r\n            <img src=\"acros-assets/icons/mobile-decline.svg\" alt=\"\"/>\r\n          </a>\r\n        </div>\r\n        <aside class=\"py-6 px-6 pb-8 has-background-white is-flex is-flex-direction-column is-justify-content-space-between\" style={{height: '100%',width: '288px', overflowY: 'auto'}}>\r\n          <div>\r\n            <a class=\"navbar-item title is-size-4 has-text-dark pl-4 mb-5\" href=\"#\">\r\n              <img src=\"acros-assets/logo/logo.png\" width=\"auto\" style={{maxHeight: 'initial', width:'70px'}} alt=\"\"/>\r\n            </a>\r\n          </div>\r\n          <div>\r\n            <div class=\"buttons mb-8\"><a class=\"button is-dark is-outlined is-fullwidth mb-4\" href=\"#\">Log In</a><a class=\"button is-primary is-fullwidth\" href=\"#\">Sign up</a></div>\r\n            <small class=\"has-text-grey-darker ml-6\">2021 Â© Shuffle</small>\r\n          </div>\r\n        </aside>\r\n      </div>\r\n    </div>\r\n\r\n    <section class=\"section py-16\" id=\"cvLive\" style={{paddingTop: '0px !important'}}>\r\n      <div class=\"container\">\r\n        <div class=\"columns is-align-items-center mb-0\">\r\n          <div class=\"column mb-16 mb-0-tablet\" style={{marginTop: '76px'}}>\r\n            <h2 class=\"title mb-6 has-mw-lg\" style={{fontSize: '2.2rem'}}></h2>\r\n            <p class=\"subtitle has-mw-md mb-12\"><br/><br/><br/><br/><br/></p>\r\n\r\n          </div>\r\n          <div class=\"column\">\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n\r\n\r\n\r\n\r\n  </React.Fragment>\r\n);\r\n}\r\nexport default AssessmentEngine;\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}