{"ast":null,"code":"import _slicedToArray from\"/Users/sampath/Documents/code/me/stint-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{useState,useEffect}from\"react\";import StringCrypto from'string-crypto';import CONSTANTS from\"../../../constants\";import styles from\"./profile.module.css\";var AssessmentProfile=function AssessmentProfile(_ref){var _ref$candidateName=_ref.candidateName,candidateName=_ref$candidateName===void 0?'...':_ref$candidateName;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),assessmentSession=_useState2[0],setAssessmentSession=_useState2[1];var _useState3=useState(candidateName),_useState4=_slicedToArray(_useState3,2),candidate=_useState4[0],setCandidate=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),skills=_useState6[0],setSkills=_useState6[1];useEffect(function(){var href=window.location.href;var _ref2=new StringCrypto(),encryptString=_ref2.encryptString,decryptString=_ref2.decryptString;var encrypted=href.substring(href.indexOf('uid=')+4,href.length);console.log('Encrypted String:',encrypted);console.log('Decrypted String:',decryptString(encrypted,'n4whal'));var decrypted=decryptString(encrypted,'n4whal');/* var str = encryptString('1+2022-04-27T10:30:00','n4whal');\r\n       console.log('str: ', str); */var assessmentId=decrypted.split('+')[0];var rawResponse=fetch(CONSTANTS.ENDPOINT.DIRECTUSAUTH,{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({\"email\":\"stint.assess@gmail.com\",\"password\":\"dstintapp1\"})}).then(function(res){var res=res.json();res.then(function(r){console.log('Data: ',r.data);console.log('AccessToken: ',r.data.access_token);var accessToken=r.data.access_token;getCandidateAssessment(accessToken,assessmentId);});});},[]);var getCandidateAssessment=function getCandidateAssessment(accessToken,assessmentId){var rawResponse=fetch(CONSTANTS.ENDPOINT.GETASSESSMENTSESSION+accessToken+'&filter={ \"id\": { \"_eq\": \"'+assessmentId+'\" }}').then(function(res){var res=res.json();res.then(function(r){var assessmentSession=r.data;var candidateId=assessmentSession[0].candidate_id;var pipelineId=assessmentSession[0].pipeline_id;getCandidate(accessToken,candidateId);getJobSkills(accessToken,pipelineId);});});};var getCandidate=function getCandidate(accessToken,candidateId){var rawResponse=fetch(CONSTANTS.ENDPOINT.GETCANDIDATE+accessToken+'&filter={ \"id\": { \"_eq\": \"'+candidateId+'\" }}').then(function(res){var res=res.json();res.then(function(r){var candidate=r.data;console.log('Candidate: ',candidate[0].full_name);setCandidate(candidate[0].full_name+'!');});});};var getJobSkills=function getJobSkills(accessToken,pipelineId){var rawResponse=fetch(CONSTANTS.ENDPOINT.GETJOBSKILLS+accessToken+'&filter={ \"pipeline_id\": { \"_eq\": \"'+pipelineId+'\" }}').then(function(res){var res=res.json();res.then(function(r){var jobsSkills=r.data;console.log('JobsSkills: ',jobsSkills);setSkills(jobsSkills);});});};return React.createElement(React.Fragment,null,React.createElement(\"div\",{style:{marginTop:'-80px'}},React.createElement(\"div\",null,React.createElement(\"section\",{className:\"section py-0\",style:{background:'linear-gradient(0deg, rgba(238,247,250,1) 0%, rgba(255,255,255,1) 100%)',marginBottom:'20px'}},React.createElement(\"div\",{className:\"container\"},React.createElement(\"div\",{className:\"columns is-align-items-center\"},React.createElement(\"div\",{className:\"column pt-8-tablet mb-12 mb-0-tablet\",style:{marginBottom:'-120px !important'}},React.createElement(\"h2\",{className:\"has-text-grey-darker has-mw-xl title .is-size-2\",style:{fontFamily:'\\'Lexend Deca\\', sans-serif',fontWeight:'200',marginBottom:'20px'}},\"Welcome \",candidate),React.createElement(\"div\",{className:\"m-primary-img\"},React.createElement(\"img\",{className:\"image mx-auto\",src:\"acros-assets/images/call-to-action/cta-12-work.png\",alt:\"\"})),React.createElement(\"p\",{className:\"profile_subtitle__1WSNP has-mw-md has-text-grey-darker mb-10 m-primary-desc\",style:{display:'inline'}},\"Please share your basic details to start the assessment. The interview timer will start once you click the \",React.createElement(\"b\",null,\"Save & start assessment\"),\" button.\"),React.createElement(\"div\",{className:\"profile_profile-form__1qgae\",style:{marginTop:'48px'}},React.createElement(\"span\",{className:\"label\"},\"Mobile Number\"),React.createElement(\"input\",{type:\"text\",class:\"profile_txt__2e5NB\",placeholder:\"Your 10 digit mobile number\"})),React.createElement(\"div\",{className:\"profile_profile-form__1qgae\"},React.createElement(\"span\",{className:\"label\"},\"Primary Skill\"),React.createElement(\"select\",{name:\"primarySkill\",id:\"primarySkill\"},skills.map(function(skill,index){return React.createElement(\"option\",{value:skill.id,key:skill.id},skill.skill_name);}))),React.createElement(\"div\",{className:\"profile_profile-form__1qgae\"},React.createElement(\"span\",{className:\"label\"},\"Secondary Skill\"),React.createElement(\"select\",{name:\"primarySkill\",id:\"primarySkill\"},skills.map(function(skill,index){return React.createElement(\"option\",{value:skill.id,key:skill.id},skill.skill_name);}))),React.createElement(\"div\",{className:\"profile_profile-form__1qgae\"},React.createElement(\"span\",{className:\"label\"},\"Tertiary Skill\"),React.createElement(\"select\",{name:\"primarySkill\",id:\"primarySkill\"},skills.map(function(skill,index){return React.createElement(\"option\",{value:skill.id,key:skill.id},skill.skill_name);}))),React.createElement(\"div\",{className:\"buttons mb-20\",style:{marginTop:'36px'}},React.createElement(\"span\",{className:\"button is-primary mr-4\",href:\"/live-code\"},\"Save & Start Assessment\"))),React.createElement(\"div\",{className:\"column\",style:{padding:'0'}},React.createElement(\"img\",{className:\"image mx-auto l-primary-img\",src:\"acros-assets/images/applications/code.png\",alt:\"\",style:{marginTop:'0px',width:'400px'}})))))),React.createElement(\"div\",{className:\"navbar-side is-hidden is-fixed is-top-0 is-left-0 has-background-blur\",style:{zIndex:'50',width:'100%',height:'100%;'}},React.createElement(\"div\",{className:\"is-absolute\",style:{zIndex:'-1'}}),React.createElement(\"div\",{className:\"container is-relative\"},React.createElement(\"a\",{className:\"navbar-close is-absolute is-right-0 mt-6 mr-6\",href:\"#\"},React.createElement(\"img\",{src:\"acros-assets/icons/mobile-decline.svg\",alt:\"\"}))),React.createElement(\"aside\",{className:\"py-6 px-6 pb-8 has-background-white is-flex is-flex-direction-column is-justify-content-space-between\",style:{height:'100%',width:'288px',overflowY:'auto'}},React.createElement(\"div\",null,React.createElement(\"a\",{className:\"navbar-item title is-size-4 has-text-dark pl-4 mb-5\",href:\"#\"},React.createElement(\"img\",{src:\"acros-assets/logo/logo.png\",width:\"auto\",style:{maxHeight:'initial',width:'100px'},alt:\"\"})),React.createElement(\"ul\",{className:\"menu-list title is-size-6\"},React.createElement(\"li\",null,React.createElement(\"a\",{className:\"py-4 px-6 has-text-grey-darker\",href:\"#\"},\"Home\")),React.createElement(\"li\",null,React.createElement(\"a\",{className:\"py-4 px-6 has-text-grey-darker\",href:\"#cvLive\"},\"CV vs Live coding\")),React.createElement(\"li\",null,React.createElement(\"a\",{className:\"py-4 px-6 has-text-grey-darker\",href:\"#howItWorks\"},\"How it works\")),React.createElement(\"li\",null,React.createElement(\"a\",{className:\"py-4 px-6 has-text-grey-darker\",href:\"#practice\"},\"Take Practice Session\")))),React.createElement(\"div\",null,React.createElement(\"div\",{className:\"buttons mb-8\"},React.createElement(\"a\",{className:\"button is-dark is-outlined is-fullwidth mb-4\",href:\"#\"},\"Log In\"),React.createElement(\"a\",{className:\"button is-primary is-fullwidth\",href:\"#\"},\"Sign up\")),React.createElement(\"small\",{className:\"has-text-grey-darker ml-6\"},\"2021 \\xA9 Shuffle\"))))));};export default AssessmentProfile;","map":{"version":3,"sources":["/Users/sampath/Documents/code/me/stint-web/src/components/assessment/profile/index.jsx"],"names":["React","useState","useEffect","StringCrypto","CONSTANTS","styles","AssessmentProfile","candidateName","assessmentSession","setAssessmentSession","candidate","setCandidate","skills","setSkills","href","window","location","encryptString","decryptString","encrypted","substring","indexOf","length","console","log","decrypted","assessmentId","split","rawResponse","fetch","ENDPOINT","DIRECTUSAUTH","method","headers","body","JSON","stringify","then","res","json","r","data","access_token","accessToken","getCandidateAssessment","GETASSESSMENTSESSION","candidateId","candidate_id","pipelineId","pipeline_id","getCandidate","getJobSkills","GETCANDIDATE","full_name","GETJOBSKILLS","jobsSkills","marginTop","background","marginBottom","fontFamily","fontWeight","display","map","skill","index","id","skill_name","padding","width","zIndex","height","overflowY","maxHeight"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport {useState, useEffect} from \"react\";\r\nimport StringCrypto from 'string-crypto';\r\nimport CONSTANTS from \"../../../constants\";\r\nimport styles from \"./profile.module.css\";\r\n\r\nconst AssessmentProfile = ({candidateName = '...'}) => {\r\n\r\n  const [assessmentSession, setAssessmentSession] = useState({});\r\n  const [candidate, setCandidate] = useState(candidateName);\r\n  const [skills, setSkills] = useState([]);\r\n\r\n\r\n  useEffect(() => {\r\n      let href = window.location.href;\r\n      const {encryptString,decryptString} = new StringCrypto();\r\n      let encrypted = href.substring(href.indexOf('uid=')+4,href.length);\r\n      console.log('Encrypted String:', encrypted);\r\n      console.log('Decrypted String:', decryptString(encrypted, 'n4whal'));\r\n\r\n       var decrypted = decryptString(encrypted, 'n4whal');\r\n       /* var str = encryptString('1+2022-04-27T10:30:00','n4whal');\r\n       console.log('str: ', str); */\r\n       var assessmentId = decrypted.split('+')[0];\r\n\r\n      const rawResponse = fetch(CONSTANTS.ENDPOINT.DIRECTUSAUTH, {\r\n         method: 'POST',\r\n         headers: {\r\n           'Accept': 'application/json',\r\n           'Content-Type': 'application/json'\r\n         },\r\n         body: JSON.stringify({\r\n        \"email\": \"stint.assess@gmail.com\",\r\n        \"password\": \"dstintapp1\"\r\n      })}).then((res)=>{\r\n        var res = res.json();\r\n        res.then(function(r) {\r\n          console.log('Data: ', r.data);\r\n          console.log('AccessToken: ', r.data.access_token);\r\n              var accessToken = r.data.access_token;\r\n              getCandidateAssessment(accessToken, assessmentId);\r\n\r\n        });\r\n      });\r\n\r\n    }, []);\r\n\r\n\r\n    const getCandidateAssessment = (accessToken, assessmentId) => {\r\n       const rawResponse = fetch(CONSTANTS.ENDPOINT.GETASSESSMENTSESSION + accessToken + '&filter={ \"id\": { \"_eq\": \"'+assessmentId+'\" }}').then((res)=>{\r\n        var res = res.json();\r\n          res.then(function(r) {\r\n            var assessmentSession = r.data;\r\n            var candidateId = assessmentSession[0].candidate_id;\r\n            var pipelineId = assessmentSession[0].pipeline_id;\r\n            getCandidate(accessToken, candidateId);\r\n            getJobSkills(accessToken, pipelineId);\r\n          });\r\n        });\r\n    }\r\n\r\n    const getCandidate = (accessToken, candidateId) => {\r\n           const rawResponse = fetch(CONSTANTS.ENDPOINT.GETCANDIDATE + accessToken + '&filter={ \"id\": { \"_eq\": \"'+candidateId+'\" }}').then((res)=>{\r\n            var res = res.json();\r\n              res.then(function(r) {\r\n                var candidate = r.data;\r\n                console.log('Candidate: ', candidate[0].full_name);\r\n                setCandidate(candidate[0].full_name + '!');\r\n              });\r\n            });\r\n        }\r\n\r\n    const getJobSkills = (accessToken, pipelineId) => {\r\n               const rawResponse = fetch(CONSTANTS.ENDPOINT.GETJOBSKILLS + accessToken + '&filter={ \"pipeline_id\": { \"_eq\": \"'+pipelineId+'\" }}').then((res)=>{\r\n                var res = res.json();\r\n                  res.then(function(r) {\r\n                    var jobsSkills = r.data;\r\n                    console.log('JobsSkills: ', jobsSkills);\r\n                    setSkills(jobsSkills);\r\n                  });\r\n                });\r\n            }\r\n\r\n  return (\r\n  <React.Fragment>\r\n               <div style={{marginTop: '-80px'}}>\r\n\r\n                 <div>\r\n                   <section className=\"section py-0\" style={{background: 'linear-gradient(0deg, rgba(238,247,250,1) 0%, rgba(255,255,255,1) 100%)',marginBottom: '20px'}}>\r\n                     <div className=\"container\">\r\n\r\n                       <div className=\"columns is-align-items-center\">\r\n                         <div className=\"column pt-8-tablet mb-12 mb-0-tablet\" style={{marginBottom: '-120px !important'}}>\r\n\r\n                           <h2 className=\"has-text-grey-darker has-mw-xl title .is-size-2\" style={{fontFamily:'\\'Lexend Deca\\', sans-serif', fontWeight: '200', marginBottom: '20px'}}>Welcome {candidate}</h2>\r\n                           <div className=\"m-primary-img\"><img className=\"image mx-auto\" src=\"acros-assets/images/call-to-action/cta-12-work.png\" alt=\"\"/></div>\r\n                           <p className=\"profile_subtitle__1WSNP has-mw-md has-text-grey-darker mb-10 m-primary-desc\" style={{display: 'inline'}}>Please share your basic details to start the assessment. The interview timer will start once you click the <b>Save & start assessment</b> button.</p>\r\n\r\n                           <div className=\"profile_profile-form__1qgae\" style={{marginTop: '48px'}}>\r\n                            <span className=\"label\">Mobile Number</span>\r\n                            <input type=\"text\" class=\"profile_txt__2e5NB\" placeholder=\"Your 10 digit mobile number\"/>\r\n                           </div>\r\n                           <div className=\"profile_profile-form__1qgae\">\r\n                             <span className=\"label\">Primary Skill</span>\r\n                             <select name=\"primarySkill\" id=\"primarySkill\">\r\n                                {skills.map((skill, index) => (\r\n                                  <option value={skill.id} key={skill.id}>{skill.skill_name}</option>\r\n                                ))}\r\n                             </select>\r\n                            </div>\r\n                            <div className=\"profile_profile-form__1qgae\">\r\n                            <span className=\"label\">Secondary Skill</span>\r\n                            <select name=\"primarySkill\" id=\"primarySkill\">\r\n                               {skills.map((skill, index) => (\r\n                                 <option value={skill.id} key={skill.id}>{skill.skill_name}</option>\r\n                               ))}\r\n                             </select>\r\n                           </div>\r\n                           <div className=\"profile_profile-form__1qgae\">\r\n                             <span className=\"label\">Tertiary Skill</span>\r\n                             <select name=\"primarySkill\" id=\"primarySkill\">\r\n                                {skills.map((skill, index) => (\r\n                                   <option value={skill.id} key={skill.id}>{skill.skill_name}</option>\r\n                                 ))}\r\n                              </select>\r\n                            </div>\r\n                           <div className=\"buttons mb-20\" style={{marginTop: '36px'}}><span className=\"button is-primary mr-4\" href=\"/live-code\">Save & Start Assessment</span></div>\r\n\r\n                         </div>\r\n                         <div className=\"column\" style={{padding: '0'}}>\r\n                           <img className=\"image mx-auto l-primary-img\" src=\"acros-assets/images/applications/code.png\" alt=\"\" style={{marginTop: '0px', width: '400px'}}/>\r\n                         </div>\r\n                       </div>\r\n                     </div>\r\n                   </section>\r\n                 </div>\r\n                 <div className=\"navbar-side is-hidden is-fixed is-top-0 is-left-0 has-background-blur\" style={{zIndex: '50', width:'100%', height: '100%;'}}>\r\n                   <div className=\"is-absolute\" style={{zIndex: '-1'}}></div>\r\n                   <div className=\"container is-relative\">\r\n                     <a className=\"navbar-close is-absolute is-right-0 mt-6 mr-6\" href=\"#\">\r\n                       <img src=\"acros-assets/icons/mobile-decline.svg\" alt=\"\"/>\r\n                     </a>\r\n                   </div>\r\n                   <aside className=\"py-6 px-6 pb-8 has-background-white is-flex is-flex-direction-column is-justify-content-space-between\" style={{height: '100%', width: '288px', overflowY: 'auto'}}>\r\n                     <div>\r\n                       <a className=\"navbar-item title is-size-4 has-text-dark pl-4 mb-5\" href=\"#\">\r\n                         <img src=\"acros-assets/logo/logo.png\" width=\"auto\" style={{maxHeight:'initial',width:'100px'}} alt=\"\"/>\r\n                       </a>\r\n                       <ul className=\"menu-list title is-size-6\">\r\n                         <li><a className=\"py-4 px-6 has-text-grey-darker\" href=\"#\">Home</a></li>\r\n                         <li><a className=\"py-4 px-6 has-text-grey-darker\" href=\"#cvLive\">CV vs Live coding</a></li>\r\n                         <li><a className=\"py-4 px-6 has-text-grey-darker\" href=\"#howItWorks\">How it works</a></li>\r\n                         <li><a className=\"py-4 px-6 has-text-grey-darker\" href=\"#practice\">Take Practice Session</a></li>\r\n                       </ul>\r\n                     </div>\r\n                     <div>\r\n                       <div className=\"buttons mb-8\"><a className=\"button is-dark is-outlined is-fullwidth mb-4\" href=\"#\">Log In</a><a className=\"button is-primary is-fullwidth\" href=\"#\">Sign up</a></div>\r\n                       <small className=\"has-text-grey-darker ml-6\">2021 Â© Shuffle</small>\r\n                     </div>\r\n                   </aside>\r\n                 </div>\r\n               </div>\r\n\r\n\r\n             </React.Fragment>);\r\n}\r\nexport default AssessmentProfile;\r\n"]},"metadata":{},"sourceType":"module"}