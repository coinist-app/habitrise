{"ast":null,"code":"import _classCallCheck from \"/Users/sampath/Documents/code/me/stint-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/sampath/Documents/code/me/stint-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/sampath/Documents/code/me/stint-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/sampath/Documents/code/me/stint-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/sampath/Documents/code/me/stint-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/sampath/Documents/code/me/stint-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/sampath/Documents/code/me/stint-web/src/components/core/timer/index.jsx\";\nimport React from \"react\";\n\nvar Timer =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Timer, _React$Component);\n\n  function Timer(props) {\n    var _this;\n\n    _classCallCheck(this, Timer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Timer).call(this));\n    _this.state = {\n      time: {},\n      seconds: props.seconds,\n      timeElapsed: 0,\n      startTime: new Date()\n    };\n    _this.timer = 0;\n    _this.startTimer = _this.startTimer.bind(_assertThisInitialized(_this));\n    _this.countDown = _this.countDown.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Timer, [{\n    key: \"secondsToTime\",\n    value: function secondsToTime(secs) {\n      var hours = Math.floor(secs / (60 * 60));\n      var divisor_for_minutes = secs % (60 * 60);\n      var minutes = Math.floor(divisor_for_minutes / 60);\n      var divisor_for_seconds = divisor_for_minutes % 60;\n      var seconds = Math.ceil(divisor_for_seconds);\n      var obj = {\n        \"h\": hours,\n        \"m\": minutes,\n        \"s\": seconds\n      };\n      return obj;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var timeLeftVar = this.secondsToTime(this.state.seconds);\n      this.setState({\n        time: timeLeftVar\n      });\n      this.startTimer();\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(oldProps, newProps) {\n      var endTime = new Date();\n      var timeDiff = endTime - this.state.startTime; //in ms\n\n      timeDiff /= 1000;\n      var seconds = Math.round(timeDiff);\n\n      if (seconds < 10) {\n        this.setState({\n          seconds: oldProps.seconds\n        });\n        this.startTimer();\n      }\n    }\n  }, {\n    key: \"startTimer\",\n    value: function startTimer() {\n      if (this.timer == 0 && this.state.seconds > 0) {\n        this.timer = setInterval(this.countDown, 1000);\n      }\n    }\n  }, {\n    key: \"countDown\",\n    value: function countDown() {\n      // Remove one second, set state so a re-render happens.\n      var seconds = this.state.seconds - 1;\n      this.setState({\n        time: this.secondsToTime(seconds),\n        seconds: seconds\n      }); // Check if we're at zero.\n\n      if (seconds == 0) {\n        clearInterval(this.timer);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"span\", {\n        id: \"timeRem\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"00: \", this.state.time.m, \": \", this.state.time.s, \"s\");\n    }\n  }]);\n\n  return Timer;\n}(React.Component);\n\nexport { Timer as default };","map":{"version":3,"sources":["/Users/sampath/Documents/code/me/stint-web/src/components/core/timer/index.jsx"],"names":["React","Timer","props","state","time","seconds","timeElapsed","startTime","Date","timer","startTimer","bind","countDown","secs","hours","Math","floor","divisor_for_minutes","minutes","divisor_for_seconds","ceil","obj","timeLeftVar","secondsToTime","setState","oldProps","newProps","endTime","timeDiff","round","setInterval","clearInterval","m","s","Component"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;IAEqBC,K;;;;;AACnB,iBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB;AACA,UAAKC,KAAL,GAAa;AAAEC,MAAAA,IAAI,EAAE,EAAR;AAAYC,MAAAA,OAAO,EAAEH,KAAK,CAACG,OAA3B;AAAoCC,MAAAA,WAAW,EAAE,CAAjD;AAAoDC,MAAAA,SAAS,EAAE,IAAIC,IAAJ;AAA/D,KAAb;AACA,UAAKC,KAAL,GAAa,CAAb;AACA,UAAKC,UAAL,GAAkB,MAAKA,UAAL,CAAgBC,IAAhB,+BAAlB;AACA,UAAKC,SAAL,GAAiB,MAAKA,SAAL,CAAeD,IAAf,+BAAjB;AALiB;AAMlB;;;;kCAEaE,I,EAAK;AACjB,UAAIC,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWH,IAAI,IAAI,KAAK,EAAT,CAAf,CAAZ;AAEA,UAAII,mBAAmB,GAAGJ,IAAI,IAAI,KAAK,EAAT,CAA9B;AACA,UAAIK,OAAO,GAAGH,IAAI,CAACC,KAAL,CAAWC,mBAAmB,GAAG,EAAjC,CAAd;AAEA,UAAIE,mBAAmB,GAAGF,mBAAmB,GAAG,EAAhD;AACA,UAAIZ,OAAO,GAAGU,IAAI,CAACK,IAAL,CAAUD,mBAAV,CAAd;AAEA,UAAIE,GAAG,GAAG;AACR,aAAKP,KADG;AAER,aAAKI,OAFG;AAGR,aAAKb;AAHG,OAAV;AAKA,aAAOgB,GAAP;AACD;;;wCAEmB;AAClB,UAAIC,WAAW,GAAG,KAAKC,aAAL,CAAmB,KAAKpB,KAAL,CAAWE,OAA9B,CAAlB;AACA,WAAKmB,QAAL,CAAc;AAAEpB,QAAAA,IAAI,EAAEkB;AAAR,OAAd;AACA,WAAKZ,UAAL;AACD;;;8CAEyBe,Q,EAAUC,Q,EAAU;AAC5C,UAAIC,OAAO,GAAG,IAAInB,IAAJ,EAAd;AACA,UAAIoB,QAAQ,GAAGD,OAAO,GAAG,KAAKxB,KAAL,CAAWI,SAApC,CAF4C,CAEG;;AAC/CqB,MAAAA,QAAQ,IAAI,IAAZ;AACA,UAAIvB,OAAO,GAAGU,IAAI,CAACc,KAAL,CAAWD,QAAX,CAAd;;AACA,UAAIvB,OAAO,GAAG,EAAd,EAAkB;AAChB,aAAKmB,QAAL,CAAc;AAACnB,UAAAA,OAAO,EAAEoB,QAAQ,CAACpB;AAAnB,SAAd;AACA,aAAKK,UAAL;AACD;AACF;;;iCAEY;AACX,UAAI,KAAKD,KAAL,IAAc,CAAd,IAAmB,KAAKN,KAAL,CAAWE,OAAX,GAAqB,CAA5C,EAA+C;AAC7C,aAAKI,KAAL,GAAaqB,WAAW,CAAC,KAAKlB,SAAN,EAAiB,IAAjB,CAAxB;AACD;AACF;;;gCAEW;AACV;AACA,UAAIP,OAAO,GAAG,KAAKF,KAAL,CAAWE,OAAX,GAAqB,CAAnC;AACA,WAAKmB,QAAL,CAAc;AACZpB,QAAAA,IAAI,EAAE,KAAKmB,aAAL,CAAmBlB,OAAnB,CADM;AAEZA,QAAAA,OAAO,EAAEA;AAFG,OAAd,EAHU,CAQV;;AACA,UAAIA,OAAO,IAAI,CAAf,EAAkB;AAChB0B,QAAAA,aAAa,CAAC,KAAKtB,KAAN,CAAb;AACD;AACF;;;6BAEQ;AACP,aACE;AAAM,QAAA,EAAE,EAAC,SAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBACO,KAAKN,KAAL,CAAWC,IAAX,CAAgB4B,CADvB,QAC4B,KAAK7B,KAAL,CAAWC,IAAX,CAAgB6B,CAD5C,MADF;AAKD;;;;EArEgCjC,KAAK,CAACkC,S;;SAApBjC,K","sourcesContent":["import React from \"react\";\r\n\r\nexport default class Timer extends React.Component {\r\n  constructor(props) {\r\n    super();\r\n    this.state = { time: {}, seconds: props.seconds, timeElapsed: 0, startTime: new Date()  };\r\n    this.timer = 0;\r\n    this.startTimer = this.startTimer.bind(this);\r\n    this.countDown = this.countDown.bind(this);\r\n  }\r\n\r\n  secondsToTime(secs){\r\n    let hours = Math.floor(secs / (60 * 60));\r\n\r\n    let divisor_for_minutes = secs % (60 * 60);\r\n    let minutes = Math.floor(divisor_for_minutes / 60);\r\n\r\n    let divisor_for_seconds = divisor_for_minutes % 60;\r\n    let seconds = Math.ceil(divisor_for_seconds);\r\n\r\n    let obj = {\r\n      \"h\": hours,\r\n      \"m\": minutes,\r\n      \"s\": seconds\r\n    };\r\n    return obj;\r\n  }\r\n\r\n  componentDidMount() {\r\n    let timeLeftVar = this.secondsToTime(this.state.seconds);\r\n    this.setState({ time: timeLeftVar });\r\n    this.startTimer();\r\n  }\r\n\r\n  componentWillReceiveProps(oldProps, newProps) {\r\n    var endTime = new Date();\r\n    var timeDiff = endTime - this.state.startTime; //in ms\r\n    timeDiff /= 1000;\r\n    var seconds = Math.round(timeDiff);\r\n    if (seconds < 10) {\r\n      this.setState({seconds: oldProps.seconds});\r\n      this.startTimer();\r\n    }\r\n  }\r\n\r\n  startTimer() {\r\n    if (this.timer == 0 && this.state.seconds > 0) {\r\n      this.timer = setInterval(this.countDown, 1000);\r\n    }\r\n  }\r\n\r\n  countDown() {\r\n    // Remove one second, set state so a re-render happens.\r\n    let seconds = this.state.seconds - 1;\r\n    this.setState({\r\n      time: this.secondsToTime(seconds),\r\n      seconds: seconds,\r\n    });\r\n\r\n    // Check if we're at zero.\r\n    if (seconds == 0) {\r\n      clearInterval(this.timer);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return(\r\n      <span id=\"timeRem\">\r\n        00: {this.state.time.m}: {this.state.time.s}s\r\n      </span>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}